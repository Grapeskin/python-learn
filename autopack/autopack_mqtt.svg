<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="765px" preserveAspectRatio="none" style="width:1053px;height:765px;background:#FFFFFF;" version="1.1" viewBox="0 0 1053 765" width="1053px" zoomAndPan="magnify"><defs><filter height="300%" id="f15qsvcp4a1rgw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[99b8db98afdc2c8404e39242ef4c1e65]
class Platform--><rect codeLine="3" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="48" id="Platform" style="stroke:#A80036;stroke-width:1.5;" width="80" x="463" y="314"/><ellipse cx="478" cy="330" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M481.6143,336.5 L473.8945,336.5 L473.8945,324.1069 L481.6143,324.1069 L481.6143,326.2651 L476.3433,326.2651 L476.3433,328.938 L481.1162,328.938 L481.1162,331.0962 L476.3433,331.0962 L476.3433,334.3418 L481.6143,334.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="492" y="334.5352">Platform</text><line style="stroke:#A80036;stroke-width:1.5;" x1="464" x2="542" y1="346" y2="346"/><line style="stroke:#A80036;stroke-width:1.5;" x1="464" x2="542" y1="354" y2="354"/><!--MD5=[75c3ed32ed5e16d70c19839950ea16ba]
class EventId--><rect codeLine="4" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="48" id="EventId" style="stroke:#A80036;stroke-width:1.5;" width="74" x="227" y="314"/><ellipse cx="242" cy="330" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M245.6143,336.5 L237.8945,336.5 L237.8945,324.1069 L245.6143,324.1069 L245.6143,326.2651 L240.3433,326.2651 L240.3433,328.938 L245.1162,328.938 L245.1162,331.0962 L240.3433,331.0962 L240.3433,334.3418 L245.6143,334.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="256" y="334.5352">EventId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="228" x2="300" y1="346" y2="346"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228" x2="300" y1="354" y2="354"/><!--MD5=[51255159981deef4d2967e1585ccf960]
class EventType--><rect codeLine="5" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="48" id="EventType" style="stroke:#A80036;stroke-width:1.5;" width="92" x="336" y="314"/><ellipse cx="351" cy="330" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M354.6143,336.5 L346.8945,336.5 L346.8945,324.1069 L354.6143,324.1069 L354.6143,326.2651 L349.3433,326.2651 L349.3433,328.938 L354.1162,328.938 L354.1162,331.0962 L349.3433,331.0962 L349.3433,334.3418 L354.6143,334.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="365" y="334.5352">EventType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="337" x2="427" y1="346" y2="346"/><line style="stroke:#A80036;stroke-width:1.5;" x1="337" x2="427" y1="354" y2="354"/><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]
class Client--><rect codeLine="8" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="48" id="Client" style="stroke:#A80036;stroke-width:1.5;" width="64" x="576" y="154"/><ellipse cx="591" cy="170" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M593.4731,176.1431 Q592.8921,176.4419 592.2529,176.5913 Q591.6138,176.7407 590.9082,176.7407 Q588.4014,176.7407 587.0815,175.0889 Q585.7617,173.437 585.7617,170.3159 Q585.7617,167.1865 587.0815,165.5347 Q588.4014,163.8828 590.9082,163.8828 Q591.6138,163.8828 592.2612,164.0322 Q592.9087,164.1816 593.4731,164.4805 L593.4731,167.2031 Q592.8423,166.6221 592.2488,166.3523 Q591.6553,166.0825 591.0244,166.0825 Q589.6797,166.0825 588.9949,167.1492 Q588.3101,168.2158 588.3101,170.3159 Q588.3101,172.4077 588.9949,173.4744 Q589.6797,174.541 591.0244,174.541 Q591.6553,174.541 592.2488,174.2712 Q592.8423,174.0015 593.4731,173.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="32" x="605" y="174.5352">Client</text><line style="stroke:#A80036;stroke-width:1.5;" x1="577" x2="639" y1="186" y2="186"/><line style="stroke:#A80036;stroke-width:1.5;" x1="577" x2="639" y1="194" y2="194"/><!--MD5=[dc737fa3c17f3862ff5af1a4871df7c4]
class MessageCallback--><rect codeLine="11" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="73.9102" id="MessageCallback" style="stroke:#A80036;stroke-width:1.5;" width="306" x="563" y="448"/><ellipse cx="662.25" cy="464" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M662.1133,459.3481 L660.9595,464.4199 L663.2754,464.4199 Z M660.6191,457.1069 L663.6157,457.1069 L666.9609,469.5 L664.5122,469.5 L663.7485,466.437 L660.4697,466.437 L659.7227,469.5 L657.2739,469.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="99" x="682.75" y="468.5352">MessageCallback</text><line style="stroke:#A80036;stroke-width:1.5;" x1="564" x2="868" y1="480" y2="480"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="569" y="494.6348">response_msg_protocol: MsgProtocol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="564" x2="868" y1="500.9551" y2="500.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="294" x="569" y="515.5898">on_message(client, userdata, message: MQTTMessage)</text><!--MD5=[66d690e9a3e247374ee1ea14fa19536b]
class MsgProtocol--><rect codeLine="26" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="60.9551" id="MsgProtocol" style="stroke:#A80036;stroke-width:1.5;" width="101" x="247.5" y="582"/><ellipse cx="262.5" cy="598" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M262.3633,593.3481 L261.2095,598.4199 L263.5254,598.4199 Z M260.8691,591.1069 L263.8657,591.1069 L267.2109,603.5 L264.7622,603.5 L263.9985,600.437 L260.7197,600.437 L259.9727,603.5 L257.5239,603.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69" x="276.5" y="602.5352">MsgProtocol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="248.5" x2="347.5" y1="614" y2="614"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="253.5" y="628.6348">String msg_id</text><line style="stroke:#A80036;stroke-width:1.5;" x1="248.5" x2="347.5" y1="634.9551" y2="634.9551"/><!--MD5=[7569d81bf4f7fc861d39df93101d5787]
class SimpleMessageCallback--><rect codeLine="17" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="60.9551" id="SimpleMessageCallback" style="stroke:#A80036;stroke-width:1.5;" width="306" x="733" y="582"/><ellipse cx="813.25" cy="598" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M815.7231,604.1431 Q815.1421,604.4419 814.5029,604.5913 Q813.8638,604.7407 813.1582,604.7407 Q810.6514,604.7407 809.3315,603.0889 Q808.0117,601.437 808.0117,598.3159 Q808.0117,595.1865 809.3315,593.5347 Q810.6514,591.8828 813.1582,591.8828 Q813.8638,591.8828 814.5112,592.0322 Q815.1587,592.1816 815.7231,592.4805 L815.7231,595.2031 Q815.0923,594.6221 814.4988,594.3523 Q813.9053,594.0825 813.2744,594.0825 Q811.9297,594.0825 811.2449,595.1492 Q810.5601,596.2158 810.5601,598.3159 Q810.5601,600.4077 811.2449,601.4744 Q811.9297,602.541 813.2744,602.541 Q813.9053,602.541 814.4988,602.2712 Q815.0923,602.0015 815.7231,601.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137" x="833.75" y="602.5352">SimpleMessageCallback</text><line style="stroke:#A80036;stroke-width:1.5;" x1="734" x2="1038" y1="614" y2="614"/><line style="stroke:#A80036;stroke-width:1.5;" x1="734" x2="1038" y1="622" y2="622"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="294" x="739" y="636.6348">on_message(client, userdata, message: MQTTMessage)</text><!--MD5=[b81a5340824238a94a4505bd6a7cbcad]
class SyncMessageCallback--><rect codeLine="21" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="60.9551" id="SyncMessageCallback" style="stroke:#A80036;stroke-width:1.5;" width="306" x="392" y="582"/><ellipse cx="478.75" cy="598" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M481.2231,604.1431 Q480.6421,604.4419 480.0029,604.5913 Q479.3638,604.7407 478.6582,604.7407 Q476.1514,604.7407 474.8315,603.0889 Q473.5117,601.437 473.5117,598.3159 Q473.5117,595.1865 474.8315,593.5347 Q476.1514,591.8828 478.6582,591.8828 Q479.3638,591.8828 480.0112,592.0322 Q480.6587,592.1816 481.2231,592.4805 L481.2231,595.2031 Q480.5923,594.6221 479.9988,594.3523 Q479.4053,594.0825 478.7744,594.0825 Q477.4297,594.0825 476.7449,595.1492 Q476.0601,596.2158 476.0601,598.3159 Q476.0601,600.4077 476.7449,601.4744 Q477.4297,602.541 478.7744,602.541 Q479.4053,602.541 479.9988,602.2712 Q480.5923,602.0015 481.2231,601.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="499.25" y="602.5352">SyncMessageCallback</text><line style="stroke:#A80036;stroke-width:1.5;" x1="393" x2="697" y1="614" y2="614"/><line style="stroke:#A80036;stroke-width:1.5;" x1="393" x2="697" y1="622" y2="622"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="294" x="398" y="636.6348">on_message(client, userdata, message: MQTTMessage)</text><!--MD5=[54e926448ad8df9948307e9c3b6e24d1]
class RequestMsgProtocol--><rect codeLine="30" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="48" id="RequestMsgProtocol" style="stroke:#A80036;stroke-width:1.5;" width="148" x="130" y="703"/><ellipse cx="145" cy="719" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M147.4731,725.1431 Q146.8921,725.4419 146.2529,725.5913 Q145.6138,725.7407 144.9082,725.7407 Q142.4014,725.7407 141.0815,724.0889 Q139.7617,722.437 139.7617,719.3159 Q139.7617,716.1865 141.0815,714.5347 Q142.4014,712.8828 144.9082,712.8828 Q145.6138,712.8828 146.2612,713.0322 Q146.9087,713.1816 147.4731,713.4805 L147.4731,716.2031 Q146.8423,715.6221 146.2488,715.3523 Q145.6553,715.0825 145.0244,715.0825 Q143.6797,715.0825 142.9949,716.1492 Q142.3101,717.2158 142.3101,719.3159 Q142.3101,721.4077 142.9949,722.4744 Q143.6797,723.541 145.0244,723.541 Q145.6553,723.541 146.2488,723.2712 Q146.8423,723.0015 147.4731,722.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="159" y="723.5352">RequestMsgProtocol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="131" x2="277" y1="735" y2="735"/><line style="stroke:#A80036;stroke-width:1.5;" x1="131" x2="277" y1="743" y2="743"/><!--MD5=[501650e310d05191f306340ff273d96b]
class ResponseMsgProtocol--><rect codeLine="32" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="48" id="ResponseMsgProtocol" style="stroke:#A80036;stroke-width:1.5;" width="157" x="313.5" y="703"/><ellipse cx="328.5" cy="719" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M330.9731,725.1431 Q330.3921,725.4419 329.7529,725.5913 Q329.1138,725.7407 328.4082,725.7407 Q325.9014,725.7407 324.5815,724.0889 Q323.2617,722.437 323.2617,719.3159 Q323.2617,716.1865 324.5815,714.5347 Q325.9014,712.8828 328.4082,712.8828 Q329.1138,712.8828 329.7612,713.0322 Q330.4087,713.1816 330.9731,713.4805 L330.9731,716.2031 Q330.3423,715.6221 329.7488,715.3523 Q329.1553,715.0825 328.5244,715.0825 Q327.1797,715.0825 326.4949,716.1492 Q325.8101,717.2158 325.8101,719.3159 Q325.8101,721.4077 326.4949,722.4744 Q327.1797,723.541 328.5244,723.541 Q329.1553,723.541 329.7488,723.2712 Q330.3423,723.0015 330.9731,722.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="125" x="342.5" y="723.5352">ResponseMsgProtocol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="314.5" x2="469.5" y1="735" y2="735"/><line style="stroke:#A80036;stroke-width:1.5;" x1="314.5" x2="469.5" y1="743" y2="743"/><!--MD5=[8e7bee16906abf4d51814b9ca5886f87]
class RequestProtocol--><rect codeLine="35" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="99.8203" id="RequestProtocol" style="stroke:#A80036;stroke-width:1.5;" width="127" x="64.5" y="288"/><ellipse cx="80.4" cy="304" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M80.2633,299.3481 L79.1095,304.4199 L81.4254,304.4199 Z M78.7691,297.1069 L81.7657,297.1069 L85.1109,309.5 L82.6622,309.5 L81.8985,306.437 L78.6197,306.437 L77.8727,309.5 L75.4239,309.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="93" x="94.6" y="308.5352">RequestProtocol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="65.5" x2="190.5" y1="320" y2="320"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="70.5" y="334.6348">topic: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="70.5" y="347.5898">payload: MsgProtocol</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="70.5" y="360.5449">qos: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="70.5" y="373.5">retain: bool</text><line style="stroke:#A80036;stroke-width:1.5;" x1="65.5" x2="190.5" y1="379.8203" y2="379.8203"/><!--MD5=[08a5931c6e2f04aefeda067b62615489]
class RobotRequestProtocol--><rect codeLine="41" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="48" id="RobotRequestProtocol" style="stroke:#A80036;stroke-width:1.5;" width="159" x="172.5" y="461"/><ellipse cx="187.5" cy="477" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M189.9731,483.1431 Q189.3921,483.4419 188.7529,483.5913 Q188.1138,483.7407 187.4082,483.7407 Q184.9014,483.7407 183.5815,482.0889 Q182.2617,480.437 182.2617,477.3159 Q182.2617,474.1865 183.5815,472.5347 Q184.9014,470.8828 187.4082,470.8828 Q188.1138,470.8828 188.7612,471.0322 Q189.4087,471.1816 189.9731,471.4805 L189.9731,474.2031 Q189.3423,473.6221 188.7488,473.3523 Q188.1553,473.0825 187.5244,473.0825 Q186.1797,473.0825 185.4949,474.1492 Q184.8101,475.2158 184.8101,477.3159 Q184.8101,479.4077 185.4949,480.4744 Q186.1797,481.541 187.5244,481.541 Q188.1553,481.541 188.7488,481.2712 Q189.3423,481.0015 189.9731,480.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="201.5" y="481.5352">RobotRequestProtocol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="173.5" x2="330.5" y1="493" y2="493"/><line style="stroke:#A80036;stroke-width:1.5;" x1="173.5" x2="330.5" y1="501" y2="501"/><!--MD5=[df68f386bb4694ae075794624fa858d4]
class CallbackProtocol--><rect codeLine="46" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="86.8652" id="CallbackProtocol" style="stroke:#A80036;stroke-width:1.5;" width="185" x="611.5" y="294.5"/><ellipse cx="652.6" cy="310.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M652.4633,305.8481 L651.3095,310.9199 L653.6254,310.9199 Z M650.9691,303.6069 L653.9657,303.6069 L657.3109,316 L654.8622,316 L654.0985,312.937 L650.8197,312.937 L650.0727,316 L647.6239,316 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="95" x="672.4" y="315.0352">CallbackProtocol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="612.5" x2="795.5" y1="326.5" y2="326.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="617.5" y="341.1348">topic: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="173" x="617.5" y="354.0898">callback_class: MessageCallback</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="617.5" y="367.0449">qos: int</text><line style="stroke:#A80036;stroke-width:1.5;" x1="612.5" x2="795.5" y1="373.3652" y2="373.3652"/><!--MD5=[e00599bc12c72b17a9d785457bffce05]
class RobotCallbackProtocol--><rect codeLine="51" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="48" id="RobotCallbackProtocol" style="stroke:#A80036;stroke-width:1.5;" width="161" x="366.5" y="461"/><ellipse cx="381.5" cy="477" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M383.9731,483.1431 Q383.3921,483.4419 382.7529,483.5913 Q382.1138,483.7407 381.4082,483.7407 Q378.9014,483.7407 377.5815,482.0889 Q376.2617,480.437 376.2617,477.3159 Q376.2617,474.1865 377.5815,472.5347 Q378.9014,470.8828 381.4082,470.8828 Q382.1138,470.8828 382.7612,471.0322 Q383.4087,471.1816 383.9731,471.4805 L383.9731,474.2031 Q383.3423,473.6221 382.7488,473.3523 Q382.1553,473.0825 381.5244,473.0825 Q380.1797,473.0825 379.4949,474.1492 Q378.8101,475.2158 378.8101,477.3159 Q378.8101,479.4077 379.4949,480.4744 Q380.1797,481.541 381.5244,481.541 Q382.1553,481.541 382.7488,481.2712 Q383.3423,481.0015 383.9731,480.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="395.5" y="481.5352">RobotCallbackProtocol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="367.5" x2="526.5" y1="493" y2="493"/><line style="stroke:#A80036;stroke-width:1.5;" x1="367.5" x2="526.5" y1="501" y2="501"/><!--MD5=[4c454e663102570c6d5b86957ebc12c1]
class SubInterface--><rect codeLine="56" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="60.9551" id="SubInterface" style="stroke:#A80036;stroke-width:1.5;" width="135" x="731.5" y="7"/><ellipse cx="760.9" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M760.7633,18.3481 L759.6095,23.4199 L761.9254,23.4199 Z M759.2691,16.1069 L762.2657,16.1069 L765.6109,28.5 L763.1622,28.5 L762.3985,25.437 L759.1197,25.437 L758.3727,28.5 L755.9239,28.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="778.1" y="27.5352">SubInterface</text><line style="stroke:#A80036;stroke-width:1.5;" x1="732.5" x2="865.5" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="732.5" x2="865.5" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="737.5" y="61.6348">sub(callback_protocol)</text><!--MD5=[14d467d8e8ff0114e656d1ce9bf43889]
class AsyncPubInterface--><rect codeLine="62" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="60.9551" id="AsyncPubInterface" style="stroke:#A80036;stroke-width:1.5;" width="272" x="7" y="7"/><ellipse cx="86.25" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M86.1133,18.3481 L84.9595,23.4199 L87.2754,23.4199 Z M84.6191,16.1069 L87.6157,16.1069 L90.9609,28.5 L88.5122,28.5 L87.7485,25.437 L84.4697,25.437 L83.7227,28.5 L81.2739,28.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="105" x="106.75" y="27.5352">AsyncPubInterface</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="278" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="278" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="13" y="61.6348">async_pub(request_protocol, callback_protocol)</text><!--MD5=[f8c63459f98cb61e17c4af90d53fdd07]
class SyncPubInterface--><rect codeLine="69" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="60.9551" id="SyncPubInterface" style="stroke:#A80036;stroke-width:1.5;" width="346" x="314" y="7"/><ellipse cx="434.25" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M434.1133,18.3481 L432.9595,23.4199 L435.2754,23.4199 Z M432.6191,16.1069 L435.6157,16.1069 L438.9609,28.5 L436.5122,28.5 L435.7485,25.437 L432.4697,25.437 L431.7227,28.5 L429.2739,28.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="97" x="454.75" y="27.5352">SyncPubInterface</text><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="659" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="659" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="334" x="320" y="61.6348">sync_pub(request_protocol,callback_protocol, timeout) -&gt; str</text><!--MD5=[0ca1291e7e05819b08ea60e28ea074be]
class MqttClientV1--><rect codeLine="76" fill="#FEFECE" filter="url(#f15qsvcp4a1rgw)" height="99.8203" id="MqttClientV1" style="stroke:#A80036;stroke-width:1.5;" width="346" x="195" y="128"/><ellipse cx="326.75" cy="144" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M329.2231,150.1431 Q328.6421,150.4419 328.0029,150.5913 Q327.3638,150.7407 326.6582,150.7407 Q324.1514,150.7407 322.8315,149.0889 Q321.5117,147.437 321.5117,144.3159 Q321.5117,141.1865 322.8315,139.5347 Q324.1514,137.8828 326.6582,137.8828 Q327.3638,137.8828 328.0112,138.0322 Q328.6587,138.1816 329.2231,138.4805 L329.2231,141.2031 Q328.5923,140.6221 327.9988,140.3523 Q327.4053,140.0825 326.7744,140.0825 Q325.4297,140.0825 324.7449,141.1492 Q324.0601,142.2158 324.0601,144.3159 Q324.0601,146.4077 324.7449,147.4744 Q325.4297,148.541 326.7744,148.541 Q327.4053,148.541 327.9988,148.2712 Q328.5923,148.0015 329.2231,147.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="347.25" y="148.5352">MqttClientV1</text><line style="stroke:#A80036;stroke-width:1.5;" x1="196" x2="540" y1="160" y2="160"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="156" x="201" y="174.6348">client: paho.mqtt.client.Client</text><line style="stroke:#A80036;stroke-width:1.5;" x1="196" x2="540" y1="180.9551" y2="180.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="201" y="195.5898">sub(callback_protocol)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="201" y="208.5449">async_pub(request_protocol, callback_protocol)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="334" x="201" y="221.5">sync_pub(request_protocol,callback_protocol, timeout) -&gt; str</text><!--MD5=[d775c9bfce6b6e089645b1b271009726]
reverse link MessageCallback to MsgProtocol--><path codeLine="15" d="M562.8,525.61 C503.44,541.84 435.18,561.59 374,582 C365.81,584.73 357.21,587.84 348.86,590.98 " fill="none" id="MessageCallback-backto-MsgProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="575.71,522.09,568.87,519.8064,564.1313,525.2418,570.9713,527.5255,575.71,522.09" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[35850917f9b824a752a8572a99042f89]
reverse link MessageCallback to SimpleMessageCallback--><path d="M781.32,534.22 C803.04,550.26 826.57,567.63 845.81,581.83 " fill="none" id="MessageCallback-backto-SimpleMessageCallback" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="777.1,539.81,765.17,522.3,785.42,528.55,777.1,539.81" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ae19f4cac6a0daf9597fb2b3ec1a9b30]
reverse link MessageCallback to SyncMessageCallback--><path d="M650.29,534.22 C628.45,550.26 604.78,567.63 585.43,581.83 " fill="none" id="MessageCallback-backto-SyncMessageCallback" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="646.27,528.49,666.54,522.3,654.56,539.78,646.27,528.49" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[af7cb1ed21d055199bab586b3ae6fd50]
reverse link MsgProtocol to RequestMsgProtocol--><path d="M260.19,658.75 C247.6,673.81 234.11,689.97 223.49,702.67 " fill="none" id="MsgProtocol-backto-RequestMsgProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="255.11,653.92,273.3,643.06,265.85,662.89,255.11,653.92" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[67e96deb7f30ecd3609d72b2cc91638b]
reverse link MsgProtocol to ResponseMsgProtocol--><path d="M335.81,658.75 C348.4,673.81 361.89,689.97 372.51,702.67 " fill="none" id="MsgProtocol-backto-ResponseMsgProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="330.15,662.89,322.7,643.06,340.89,653.92,330.15,662.89" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[84755d181ecbe9bdae05f7f32c2fa4e1]
reverse link RequestProtocol to RobotRequestProtocol--><path d="M183.16,403.5 C200.7,424.02 218.99,445.4 232.3,460.96 " fill="none" id="RequestProtocol-backto-RobotRequestProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="177.66,407.84,169.98,388.09,188.3,398.74,177.66,407.84" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[944633779246c877cb2677da7c82c8a1]
reverse link RequestProtocol to MsgProtocol--><path codeLine="43" d="M124.55,401.78 C125.41,439.43 131.91,486.69 155,522 C176.72,555.22 215.51,578.34 247.21,592.76 " fill="none" id="RequestProtocol-backto-MsgProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="124.47,388.39,120.503,394.4119,124.5359,400.3898,128.5029,394.3679,124.47,388.39" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ee1c8365ce74df778d7e9f2440d7dafc]
reverse link CallbackProtocol to RobotCallbackProtocol--><path d="M610.95,391.5 C568.79,415.29 521.1,442.19 488.07,460.83 " fill="none" id="CallbackProtocol-backto-RobotCallbackProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="607.77,385.26,628.63,381.53,614.65,397.45,607.77,385.26" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a2229efa62bba7ac00ce892a175eac76]
reverse link CallbackProtocol to MessageCallback--><path codeLine="53" d="M708.61,394.71 C710.09,412.58 711.69,431.88 713.02,447.95 " fill="none" id="CallbackProtocol-backto-MessageCallback" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="707.54,381.72,704.0481,388.0292,708.5289,393.6792,712.0208,387.37,707.54,381.72" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[98cec828f68ef49c939a6aaa4483cd90]
link SubInterface to CallbackProtocol--><path codeLine="59" d="M803.03,68.18 C807.03,106.46 810.01,174.47 790,228 C781.53,250.67 766.47,272.32 751.3,290.27 " fill="none" id="SubInterface-to-CallbackProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="747.86,294.28,756.762,290.0664,751.121,290.4898,750.6977,284.8488,747.86,294.28" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[eb733f52280d117782f732f36864c1e8]
link AsyncPubInterface to RequestProtocol--><path codeLine="65" d="M131.63,68.24 C125.68,85.42 119.01,107.61 116,128 C108.3,180.17 113.19,240.35 118.86,282.69 " fill="none" id="AsyncPubInterface-to-RequestProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="119.56,287.76,122.2891,278.2968,118.8749,282.8072,114.3645,279.393,119.56,287.76" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[57f9cdae2e93d19a3ae45beba8e208e5]
link AsyncPubInterface to CallbackProtocol--><path codeLine="66" d="M279.36,64.98 C284.98,66.01 290.54,67.02 296,68 C376.26,82.39 598.85,71.87 658,128 C701.42,169.21 708.41,241.34 707.62,289.14 " fill="none" id="AsyncPubInterface-to-CallbackProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="707.51,294.27,711.7146,285.3638,707.6243,289.2713,703.7167,285.1809,707.51,294.27" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1b965c328b38e59561032f667148fe50]
link SyncPubInterface to RequestProtocol--><path codeLine="72" d="M331.61,68.1 C265.98,83.6 199.53,104.3 177,128 C137.74,169.31 127.9,235.85 126.34,282.73 " fill="none" id="SyncPubInterface-to-RequestProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="126.2,287.78,130.4554,278.8979,126.3428,282.782,122.4587,278.6694,126.2,287.78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f72a2ca6ce5c707b30caa9d303da0fa7]
link SyncPubInterface to CallbackProtocol--><path codeLine="73" d="M640.48,68.12 C671.34,81.32 700.07,100.41 719,128 C751.56,175.47 738.14,244.1 723.14,289.6 " fill="none" id="SyncPubInterface-to-CallbackProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="721.5,294.48,728.1474,287.2128,723.0854,289.738,720.5602,284.6761,721.5,294.48" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ed94640f5d260ef85aa20fa20ddd6e27]
reverse link SubInterface to MqttClientV1--><path d="M711.83,66.51 C657.02,84.13 584.79,107.33 520.69,127.93 " fill="none" id="SubInterface-backto-MqttClientV1" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="710,59.75,731.18,60.29,714.28,73.08,710,59.75" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a3fcc4fa9bf07fdd7088c7490d9a21b0]
reverse link AsyncPubInterface to MqttClientV1--><path d="M208.04,78.53 C233.07,93.94 261.94,111.72 288.21,127.89 " fill="none" id="AsyncPubInterface-backto-MqttClientV1" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="204.35,84.49,190.99,68.04,211.69,72.56,204.35,84.49" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[802cb91d3bd849f983d6b2c9f2ead4ec]
reverse link SyncPubInterface to MqttClientV1--><path d="M448.37,83.46 C436.14,97.7 422.56,113.5 410.1,128 " fill="none" id="SyncPubInterface-backto-MqttClientV1" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="443.13,78.82,461.47,68.21,453.75,87.94,443.13,78.82" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5f770c5f65faa851eddb3c30b350d56c]
link MqttClientV1 to Client--><path codeLine="83" d="M553.44,178 C553.44,178 559.87,178 562.52,178 " fill="none" id="MqttClientV1-Client" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="575.76,178,566.76,174,570.76,178,566.76,182,575.76,178" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="570.76" x2="562.76" y1="178" y2="178"/><polygon fill="#A80036" points="541.44,178,547.44,182,553.44,178,547.44,174,541.44,178" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ac889fa27261100909bb675f5d82b8ed]
link MqttClientV1 to Platform--><path codeLine="84" d="M409.97,228.13 C433,255.07 460.67,287.46 479.82,309.87 " fill="none" id="MqttClientV1-to-Platform" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="483.29,313.94,480.5079,304.4923,480.0513,310.1307,474.4129,309.6741,483.29,313.94" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8f1d15cfe95675b20d35dca0a93251aa]
link MqttClientV1 to EventId--><path codeLine="85" d="M335.66,228.13 C318,254.96 296.78,287.19 282.04,309.59 " fill="none" id="MqttClientV1-to-EventId" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="279.18,313.94,287.4669,308.6176,281.927,309.7622,280.7824,304.2224,279.18,313.94" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[52f4de7d4673d8f4c7f3786eb0e36c7b]
link MqttClientV1 to EventType--><path codeLine="86" d="M372.35,228.13 C374.7,254.63 377.52,286.39 379.5,308.75 " fill="none" id="MqttClientV1-to-EventType" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="379.96,313.94,383.148,304.6214,379.5176,308.9596,375.1794,305.3292,379.96,313.94" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d8fa23d69fb82d2fcc3a586bb61c73c4]
link MqttClientV1 to RequestProtocol--><path codeLine="87" d="M293.38,228.13 C262.29,248.59 226.45,272.19 196.09,292.17 " fill="none" id="MqttClientV1-to-RequestProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.65,295.09,201.3701,293.5028,195.8321,292.3495,196.9854,286.8115,191.65,295.09" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3c5568896940ff5594b66961ba906c03]
link MqttClientV1 to CallbackProtocol--><path codeLine="88" d="M472.47,228.13 C516.06,248.62 566.33,272.26 608.88,292.27 " fill="none" id="MqttClientV1-to-CallbackProtocol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="613.5,294.44,607.0564,286.9915,608.9749,292.3131,603.6533,294.2316,613.5,294.44" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c3bcbd675c16a473e233f91090eefa10]
@startuml
'https://plantuml.com/class-diagram
'枚举
enum Platform
enum EventId
enum EventType

'mqtt连接对象
class Client

'回调
abstract class MessageCallback{
    response_msg_protocol: MsgProtocol
    on_message(client, userdata, message: MQTTMessage)
}
MessageCallback o- - MsgProtocol

class SimpleMessageCallback extends MessageCallback{
    on_message(client, userdata, message: MQTTMessage)
}

class SyncMessageCallback extends MessageCallback{
    on_message(client, userdata, message: MQTTMessage)
}

'消息
abstract class MsgProtocol{
    String msg_id
}

class RequestMsgProtocol extends MsgProtocol

class ResponseMsgProtocol extends MsgProtocol

'请求协议
abstract class RequestProtocol{
    topic: str
    payload: MsgProtocol
    qos: int
    retain: bool
}
class RobotRequestProtocol extends RequestProtocol

RequestProtocol o- - MsgProtocol

'回调协议
abstract class CallbackProtocol{
    topic: str
    callback_class: MessageCallback
    qos: int
}
class RobotCallbackProtocol extends CallbackProtocol

CallbackProtocol o- - MessageCallback

'订阅接口
abstract class SubInterface {
    sub(callback_protocol)
}
SubInterface - -> CallbackProtocol

'异步请求接口
abstract class  AsyncPubInterface{
    async_pub(request_protocol, callback_protocol)
}
AsyncPubInterface - -> RequestProtocol
AsyncPubInterface - -> CallbackProtocol

'同步请求接口
abstract class SyncPubInterface {
    sync_pub(request_protocol,callback_protocol, timeout) -> str
}
SyncPubInterface - -> RequestProtocol
SyncPubInterface - -> CallbackProtocol

'客户端实例
class MqttClientV1 implements SubInterface, AsyncPubInterface, SyncPubInterface{
    client: paho.mqtt.client.Client
    sub(callback_protocol)
    async_pub(request_protocol, callback_protocol)
    sync_pub(request_protocol,callback_protocol, timeout) -> str
}

MqttClientV1 *-> Client
MqttClientV1 - -> Platform
MqttClientV1 - -> EventId
MqttClientV1 - -> EventType
MqttClientV1 - -> RequestProtocol
MqttClientV1 - -> CallbackProtocol


@enduml

@startuml
enum Platform
enum EventId
enum EventType

class Client

abstract class MessageCallback{
    response_msg_protocol: MsgProtocol
    on_message(client, userdata, message: MQTTMessage)
}
MessageCallback o- - MsgProtocol

class SimpleMessageCallback extends MessageCallback{
    on_message(client, userdata, message: MQTTMessage)
}

class SyncMessageCallback extends MessageCallback{
    on_message(client, userdata, message: MQTTMessage)
}

abstract class MsgProtocol{
    String msg_id
}

class RequestMsgProtocol extends MsgProtocol

class ResponseMsgProtocol extends MsgProtocol

abstract class RequestProtocol{
    topic: str
    payload: MsgProtocol
    qos: int
    retain: bool
}
class RobotRequestProtocol extends RequestProtocol

RequestProtocol o- - MsgProtocol

abstract class CallbackProtocol{
    topic: str
    callback_class: MessageCallback
    qos: int
}
class RobotCallbackProtocol extends CallbackProtocol

CallbackProtocol o- - MessageCallback

abstract class SubInterface {
    sub(callback_protocol)
}
SubInterface - -> CallbackProtocol

abstract class  AsyncPubInterface{
    async_pub(request_protocol, callback_protocol)
}
AsyncPubInterface - -> RequestProtocol
AsyncPubInterface - -> CallbackProtocol

abstract class SyncPubInterface {
    sync_pub(request_protocol,callback_protocol, timeout) -> str
}
SyncPubInterface - -> RequestProtocol
SyncPubInterface - -> CallbackProtocol

class MqttClientV1 implements SubInterface, AsyncPubInterface, SyncPubInterface{
    client: paho.mqtt.client.Client
    sub(callback_protocol)
    async_pub(request_protocol, callback_protocol)
    sync_pub(request_protocol,callback_protocol, timeout) -> str
}

MqttClientV1 *-> Client
MqttClientV1 - -> Platform
MqttClientV1 - -> EventId
MqttClientV1 - -> EventType
MqttClientV1 - -> RequestProtocol
MqttClientV1 - -> CallbackProtocol


@enduml

PlantUML version 1.2022.1(Wed Feb 02 02:19:58 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>
