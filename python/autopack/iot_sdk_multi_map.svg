<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="4184.8px" preserveAspectRatio="none" style="width:1114px;height:4184px;background:#FFFFFF;" version="1.1" viewBox="0 0 1114 4184" width="1114.4px" zoomAndPan="magnify"><defs/><g><rect height="4096.5074" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="1092.8" x="8" y="44.8961"/><rect height="322.4973" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="1060.8" x="32" y="91.7031"/><rect height="2087.7328" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="1042" x="16" y="563.618"/><rect height="961.8227" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="1026" x="24" y="827.2898"/><rect height="263.8684" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="992.4" x="32" y="884.5152"/><rect height="228.0648" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="992.4" x="32" y="1346.423"/><rect height="325.5418" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="440" x="156.4" y="1907.723"/><rect height="101.0473" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="372" x="164.4" y="1964.9484"/><rect height="101.0473" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="424" x="164.4" y="2126.6176"/><rect height="304.2754" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="860" x="164.4" y="2244.4648"/><rect height="375.8824" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="860" x="164.4" y="2826.1719"/><rect height="513.3" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="828.8" x="164.4" y="3336.4684"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="56" x2="56" y1="31.2961" y2="4155.0035"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="198" x2="198" y1="31.2961" y2="4155.0035"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="584" x2="584" y1="31.2961" y2="4155.0035"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="915.6" x2="915.6" y1="31.2961" y2="4155.0035"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="1045.6" x2="1045.6" y1="31.2961" y2="4155.0035"/><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="32.8" x="40" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="21.6" x="45.6" y="22.4352">APP</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="32.8" x="40" y="4154.2035"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="21.6" x="45.6" y="4172.6387">APP</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="51.2" x="172.4" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="40" x="178" y="22.4352">Network</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="51.2" x="172.4" y="4154.2035"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="40" x="178" y="4172.6387">Network</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="58.4" x="555.2" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="47.2" x="560.8" y="22.4352">IOT_SDK</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="58.4" x="555.2" y="4154.2035"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="47.2" x="560.8" y="4172.6387">IOT_SDK</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="70.4" x="880.4" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="59.2" x="886" y="22.4352">APOS_SDK</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="70.4" x="880.4" y="4154.2035"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="59.2" x="886" y="4172.6387">APOS_SDK</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="77.6" x="1007.2" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="66.4" x="1012.8" y="22.4352">MapManager</text><rect fill="#E2E2F0" height="26.4961" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="77.6" x="1007.2" y="4154.2035"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="66.4" x="1012.8" y="4172.6387">MapManager</text><path d="M8,44.8961 L120,44.8961 L120,52.6996 L112,60.6996 L8,60.6996 L8,44.8961 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="4096.5074" style="stroke:#000000;stroke-width:1.2000000000000002;" width="1092.8" x="8" y="44.8961"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="76" x="20" y="57.6145">本地/云端多地图</text><polygon fill="#181818" points="906,76.5031,914,79.7031,906,82.9031,909.2,79.7031" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="79.7031" y2="79.7031"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="211.2" x="590" y="75.818">订阅区域更新事件 /MapData/SegmentSucess</text><path d="M32,91.7031 L80.8,91.7031 L80.8,99.5066 L72.8,107.5066 L32,107.5066 L32,91.7031 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="322.4973" style="stroke:#000000;stroke-width:1.2000000000000002;" width="1060.8" x="32" y="91.7031"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="44" y="104.4215">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="59.2" x="92.8" y="103.3879">[用户主动触发]</text><polygon fill="#FF0000" points="188.4,123.3285,196.4,126.5285,188.4,129.7285,191.6,126.5285" style="stroke:#FF0000;stroke-width:0.8000000000000002;"/><line style="stroke:#FF0000;stroke-width:0.8000000000000002;" x1="56.4" x2="193.2" y1="126.5285" y2="126.5285"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="62" y="122.6434">保存地图</text><polygon fill="#FF0000" points="188.4,148.732,196.4,151.932,188.4,155.132,191.6,151.932" style="stroke:#FF0000;stroke-width:0.8000000000000002;"/><line style="stroke:#FF0000;stroke-width:0.8000000000000002;" x1="56.4" x2="193.2" y1="151.932" y2="151.932"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="120.8" x="62" y="148.0469">区域更新(如修改房间名称)</text><polygon fill="#FF0000" points="574.8,174.1355,582.8,177.3355,574.8,180.5355,578,177.3355" style="stroke:#FF0000;stroke-width:0.8000000000000002;"/><line style="stroke:#FF0000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="579.6" y1="177.3355" y2="177.3355"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="203.6" y="173.4504">保存地图</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="32" x2="1092.8" y1="184.5355" y2="184.5355"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="85.6" x="36" y="194.6203">[清扫完成且自动分区]</text><polygon fill="#181818" points="924.4,213.1574,916.4,216.3574,924.4,219.5574,921.2,216.3574" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="919.6" x2="1045.2" y1="216.3574" y2="216.3574"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="79.2" x="929.2" y="212.4723">区域更新(update)</text><polygon fill="#181818" points="593.2,238.5609,585.2,241.7609,593.2,244.9609,590,241.7609" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="241.7609" y2="241.7609"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="79.2" x="598" y="237.8758">区域更新(update)</text><polygon fill="#181818" points="206.8,263.9645,198.8,267.1645,206.8,270.3645,203.6,267.1645" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="267.1645" y2="267.1645"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="79.2" x="211.6" y="263.2793">区域更新(update)</text><polygon fill="#FF0000" points="574.8,289.368,582.8,292.568,574.8,295.768,578,292.568" style="stroke:#FF0000;stroke-width:0.8000000000000002;"/><line style="stroke:#FF0000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="579.6" y1="292.568" y2="292.568"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="203.6" y="288.6828">保存地图</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="32" x2="1092.8" y1="299.768" y2="299.768"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="295.2" x="36" y="309.8527">[算法更新区域信息(/event/map_manager -&gt; map_segment_success)]</text><polygon fill="#181818" points="924.4,328.3898,916.4,331.5898,924.4,334.7898,921.2,331.5898" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="919.6" x2="1045.2" y1="331.5898" y2="331.5898"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="99.2" x="929.2" y="327.7047">区域更新(merge/split)</text><polygon fill="#181818" points="593.2,353.7934,585.2,356.9934,593.2,360.1934,590,356.9934" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="356.9934" y2="356.9934"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="99.2" x="598" y="353.1082">区域更新(merge/split)</text><polygon fill="#181818" points="206.8,379.1969,198.8,382.3969,206.8,385.5969,203.6,382.3969" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="382.3969" y2="382.3969"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="99.2" x="211.6" y="378.5117">区域更新(merge/split)</text><polygon fill="#FF0000" points="574.8,404.6004,582.8,407.8004,574.8,411.0004,578,407.8004" style="stroke:#FF0000;stroke-width:0.8000000000000002;"/><line style="stroke:#FF0000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="579.6" y1="407.8004" y2="407.8004"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="203.6" y="403.9152">保存地图</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="1108.8" x="0" y="437.3021"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="1108.8" y1="437.3021" y2="437.3021"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="1108.8" y1="439.7021" y2="439.7021"/><rect fill="#EEEEEE" height="20.6035" style="stroke:#000000;stroke-width:1.6000000000000003;" width="56" x="526.4" y="427.8004"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="41.6" x="531.2" y="442.9188">保存地图</text><polygon fill="#181818" points="574.8,472.2074,582.8,475.4074,574.8,478.6074,578,475.4074" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="475.4074" y2="475.4074"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="83.2" x="203.6" y="471.5223">获取当前地图状态</text><polygon fill="#181818" points="906,497.6109,914,500.8109,906,504.0109,909.2,500.8109" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="500.8109" y2="500.8109"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="83.2" x="590" y="496.9258">获取当前地图状态</text><polygon fill="#181818" points="593.2,523.0145,585.2,526.2145,593.2,529.4145,590,526.2145" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="526.2145" y2="526.2145"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="104" x="598" y="522.3293">当前地图是否可以保存</text><polygon fill="#181818" points="206.8,548.418,198.8,551.618,206.8,554.818,203.6,551.618" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="551.618" y2="551.618"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="104" x="211.6" y="547.7328">当前地图是否可以保存</text><path d="M16,563.618 L64.8,563.618 L64.8,571.4215 L56.8,579.4215 L16,579.4215 L16,563.618 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="2087.7328" style="stroke:#000000;stroke-width:1.2000000000000002;" width="1042" x="16" y="563.618"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="28" y="576.3363">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="123.2" x="76.8" y="575.3027">[有地图保存限制 &amp; 不可以保存]</text><polygon fill="#181818" points="65.2,595.2434,57.2,598.4434,65.2,601.6434,62,598.4434" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="60.4" x2="197.2" y1="598.4434" y2="598.4434"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="70" y="594.5582">保存失败</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="16" x2="1058" y1="605.6434" y2="605.6434"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="85.6" x="20" y="615.7281">[满足限制，可以保存]</text><polygon fill="#181818" points="574.8,634.2652,582.8,637.4652,574.8,640.6652,578,637.4652" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="637.4652" y2="637.4652"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="203.6" y="633.5801">获取当前地图</text><polygon fill="#181818" points="906,659.6688,914,662.8688,906,666.0688,909.2,662.8688" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="662.8688" y2="662.8688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="248" x="590" y="658.9836">获取当前地图 /MapData/SegmentSlamMapDataDirect</text><polygon fill="#181818" points="593.2,685.0723,585.2,688.2723,593.2,691.4723,590,688.2723" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="688.2723" y2="688.2723"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="38.4" x="598" y="684.3871">mapId等</text><polygon fill="#181818" points="206.8,710.4758,198.8,713.6758,206.8,716.8758,203.6,713.6758" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="713.6758" y2="713.6758"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="38.4" x="211.6" y="709.7906">mapId等</text><polygon fill="#181818" points="574.8,735.8793,582.8,739.0793,574.8,742.2793,578,739.0793" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="739.0793" y2="739.0793"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="93.6" x="203.6" y="735.1941">获取已保存地图列表</text><polygon fill="#181818" points="906,761.2828,914,764.4828,906,767.6828,909.2,764.4828" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="764.4828" y2="764.4828"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="228" x="590" y="760.5977">获取已保存地图列表 /MapData/LocalMultiMapInfo</text><polygon fill="#181818" points="593.2,786.6863,585.2,789.8863,593.2,793.0863,590,789.8863" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="789.8863" y2="789.8863"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="312" x="598" y="786.0012">mapId、savePath、bkmapPath、iotMapInfo(如cloudMapId、md5)等</text><polygon fill="#181818" points="206.8,812.0898,198.8,815.2898,206.8,818.4898,203.6,815.2898" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="815.2898" y2="815.2898"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="312" x="211.6" y="811.4047">mapId、savePath、bkmapPath、iotMapInfo(如cloudMapId、md5)等</text><path d="M24,827.2898 L72.8,827.2898 L72.8,835.0934 L64.8,843.0934 L24,843.0934 L24,827.2898 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="961.8227" style="stroke:#000000;stroke-width:1.2000000000000002;" width="1026" x="24" y="827.2898"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="36" y="840.0082">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="84.8" y="838.9746">[云端多地图]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="862.1152" y2="862.1152"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="862.1152" y2="872.5152"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="872.5152" y2="872.5152"/><polygon fill="#181818" points="206.8,869.3152,198.8,872.5152,206.8,875.7152,203.6,872.5152" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="319.2" x="203.6" y="858.2301">获取云端地图列表，tuya_iot_get_all_maps_info(失败重传，最大三次)</text><path d="M32,884.5152 L80.8,884.5152 L80.8,892.3188 L72.8,900.3188 L32,900.3188 L32,884.5152 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="263.8684" style="stroke:#000000;stroke-width:1.2000000000000002;" width="992.4" x="32" y="884.5152"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="44" y="897.2336">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="176" x="92.8" y="896.2">[云端地图超过最大数量 &amp; 自动更新开关打开]</text><polygon fill="#181818" points="574.8,916.1406,582.8,919.3406,574.8,922.5406,578,919.3406" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="919.3406" y2="919.3406"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="203.6" y="915.4555">删除地图</text><polygon fill="#181818" points="906,941.5441,914,944.7441,906,947.9441,909.2,944.7441" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="944.7441" y2="944.7441"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="167.2" x="590" y="940.859">删除地图 /MapData/DeleteMulitiMap</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="970.1477" y2="970.1477"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="970.1477" y2="980.5477"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="980.5477" y2="980.5477"/><polygon fill="#181818" points="924.4,977.3477,916.4,980.5477,924.4,983.7477,921.2,980.5477" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="72.8" x="921.2" y="966.2625">删除多地图列表</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="1005.9512" y2="1005.9512"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="1005.9512" y2="1016.3512"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="1016.3512" y2="1016.3512"/><polygon fill="#181818" points="924.4,1013.1512,916.4,1016.3512,924.4,1019.5512,921.2,1016.3512" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="93.6" x="921.2" y="1002.066">删除本地多地图文件</text><polygon fill="#181818" points="593.2,1038.5547,585.2,1041.7547,593.2,1044.9547,590,1041.7547" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="1041.7547" y2="1041.7547"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="598" y="1037.8695">删除成功</text><polygon fill="#181818" points="206.8,1063.9582,198.8,1067.1582,206.8,1070.3582,203.6,1067.1582" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="1067.1582" y2="1067.1582"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="211.6" y="1063.273">删除成功</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="1092.5617" y2="1092.5617"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="1092.5617" y2="1102.9617"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="1102.9617" y2="1102.9617"/><polygon fill="#181818" points="206.8,1099.7617,198.8,1102.9617,206.8,1106.1617,203.6,1102.9617" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="268.8" x="203.6" y="1088.6766">删除云端地图，tuya_iot_map_delete(失败重传，最大三次)</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="32" x2="1024.4" y1="1110.1617" y2="1110.1617"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="158.4" x="36" y="1120.2465">[地图超过最大数量 &amp; 自动更新开关关闭]</text><polygon fill="#181818" points="65.2,1138.7836,57.2,1141.9836,65.2,1145.1836,62,1141.9836" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="60.4" x2="197.2" y1="1141.9836" y2="1141.9836"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="70" y="1138.0984">返回结果</text><polygon fill="#181818" points="574.8,1169.7871,582.8,1172.9871,574.8,1176.1871,578,1172.9871" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="1172.9871" y2="1172.9871"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="100" x="203.6" y="1169.102">保存地图(云端多地图)</text><polygon fill="#181818" points="906,1195.1906,914,1198.3906,906,1201.5906,909.2,1198.3906" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="1198.3906" y2="1198.3906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="160" x="590" y="1194.5055">保存地图 /MapData/SaveMulitiMap</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="1223.7941" y2="1223.7941"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="1223.7941" y2="1234.1941"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="1234.1941" y2="1234.1941"/><polygon fill="#181818" points="924.4,1230.9941,916.4,1234.1941,924.4,1237.3941,921.2,1234.1941" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="93.6" x="921.2" y="1219.909">保存多地图信息列表</text><polygon fill="#181818" points="593.2,1256.3977,585.2,1259.5977,593.2,1262.7977,590,1259.5977" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="1259.5977" y2="1259.5977"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="296" x="598" y="1255.7125">保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache</text><polygon fill="#181818" points="206.8,1281.8012,198.8,1285.0012,206.8,1288.2012,203.6,1285.0012" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="1285.0012" y2="1285.0012"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="296" x="211.6" y="1281.116">保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="1310.4047" y2="1310.4047"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="1310.4047" y2="1320.8047"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="1320.8047" y2="1320.8047"/><polygon fill="#181818" points="206.8,1317.6047,198.8,1320.8047,206.8,1324.0047,203.6,1320.8047" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="275.2" x="203.6" y="1306.5195">从/tmp/run/record获取缩略图、/tmp/run/cache获取地图数据</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="24" x2="1050" y1="1328.0047" y2="1328.0047"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="28" y="1338.0895">[本地多地图]</text><path d="M32,1346.423 L80.8,1346.423 L80.8,1354.2266 L72.8,1362.2266 L32,1362.2266 L32,1346.423 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="228.0648" style="stroke:#000000;stroke-width:1.2000000000000002;" width="992.4" x="32" y="1346.423"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="44" y="1359.1414">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="176" x="92.8" y="1358.1078">[本地地图超过最大数量 &amp; 自动更新开关打开]</text><polygon fill="#181818" points="574.8,1378.0484,582.8,1381.2484,574.8,1384.4484,578,1381.2484" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="1381.2484" y2="1381.2484"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="203.6" y="1377.3633">删除地图</text><polygon fill="#181818" points="906,1403.452,914,1406.652,906,1409.852,909.2,1406.652" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="1406.652" y2="1406.652"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="167.2" x="590" y="1402.7668">删除地图 /MapData/DeleteMulitiMap</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="1432.0555" y2="1432.0555"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="1432.0555" y2="1442.4555"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="1442.4555" y2="1442.4555"/><polygon fill="#181818" points="924.4,1439.2555,916.4,1442.4555,924.4,1445.6555,921.2,1442.4555" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="72.8" x="921.2" y="1428.1703">删除多地图列表</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="1467.859" y2="1467.859"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="1467.859" y2="1478.259"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="1478.259" y2="1478.259"/><polygon fill="#181818" points="924.4,1475.059,916.4,1478.259,924.4,1481.459,921.2,1478.259" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="93.6" x="921.2" y="1463.9738">删除本地多地图文件</text><polygon fill="#181818" points="593.2,1500.4625,585.2,1503.6625,593.2,1506.8625,590,1503.6625" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="1503.6625" y2="1503.6625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="598" y="1499.7773">删除成功</text><polygon fill="#181818" points="206.8,1525.866,198.8,1529.066,206.8,1532.266,203.6,1529.066" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="1529.066" y2="1529.066"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="211.6" y="1525.1809">删除成功</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="32" x2="1024.4" y1="1536.266" y2="1536.266"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="158.4" x="36" y="1546.3508">[地图超过最大数量 &amp; 自动更新开关关闭]</text><polygon fill="#181818" points="65.2,1564.8879,57.2,1568.0879,65.2,1571.2879,62,1568.0879" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="60.4" x2="197.2" y1="1568.0879" y2="1568.0879"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="70" y="1564.2027">返回结果</text><polygon fill="#181818" points="574.8,1595.8914,582.8,1599.0914,574.8,1602.2914,578,1599.0914" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="1599.0914" y2="1599.0914"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="100" x="203.6" y="1595.2063">保存地图(本地多地图)</text><polygon fill="#181818" points="906,1621.2949,914,1624.4949,906,1627.6949,909.2,1624.4949" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="1624.4949" y2="1624.4949"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="160" x="590" y="1620.6098">保存地图 /MapData/SaveMulitiMap</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="1649.8984" y2="1649.8984"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="1649.8984" y2="1660.2984"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="1660.2984" y2="1660.2984"/><polygon fill="#181818" points="924.4,1657.0984,916.4,1660.2984,924.4,1663.4984,921.2,1660.2984" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="93.6" x="921.2" y="1646.0133">保存多地图信息列表</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="1685.702" y2="1685.702"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="1685.702" y2="1696.102"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="1696.102" y2="1696.102"/><polygon fill="#181818" points="924.4,1692.902,916.4,1696.102,924.4,1699.302,921.2,1696.102" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="119.2" x="921.2" y="1681.8168">保存地图数据文件到Flash</text><polygon fill="#181818" points="593.2,1718.3055,585.2,1721.5055,593.2,1724.7055,590,1721.5055" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="1721.5055" y2="1721.5055"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="296" x="598" y="1717.6203">保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache</text><polygon fill="#181818" points="206.8,1743.709,198.8,1746.909,206.8,1750.109,203.6,1746.909" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="1746.909" y2="1746.909"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="296" x="211.6" y="1743.0238">保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="1772.3125" y2="1772.3125"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="1772.3125" y2="1782.7125"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="1782.7125" y2="1782.7125"/><polygon fill="#181818" points="206.8,1779.5125,198.8,1782.7125,206.8,1785.9125,203.6,1782.7125" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="317.6" x="203.6" y="1768.4273">从/tmp/run/record获取缩略图、从/userdata/store/maps/获取地图数据</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="1813.716" y2="1813.716"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="1813.716" y2="1824.116"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="1824.116" y2="1824.116"/><polygon fill="#181818" points="206.8,1820.916,198.8,1824.116,206.8,1827.316,203.6,1824.116" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="364" x="203.6" y="1809.8309">打包地图数据：地图裁剪、协议转换（地图、机器人坐标、充电桩坐标）、压缩</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="1849.5195" y2="1849.5195"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="1849.5195" y2="1859.9195"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="1859.9195" y2="1859.9195"/><polygon fill="#181818" points="206.8,1856.7195,198.8,1859.9195,206.8,1863.1195,203.6,1859.9195" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="203.6" y="1845.6344">打包区域信息</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="1885.323" y2="1885.323"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="1885.323" y2="1895.723"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="1895.723" y2="1895.723"/><polygon fill="#181818" points="206.8,1892.523,198.8,1895.723,206.8,1898.923,203.6,1895.723" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="287.2" x="203.6" y="1881.4379">比较当前地图与多地图列表(本地、云端)（判断新增还是更新）</text><path d="M156.4,1907.723 L205.2,1907.723 L205.2,1915.5266 L197.2,1923.5266 L156.4,1923.5266 L156.4,1907.723 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="325.5418" style="stroke:#000000;stroke-width:1.2000000000000002;" width="440" x="156.4" y="1907.723"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="168.4" y="1920.4414">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="217.2" y="1919.4078">[本地多地图]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="1942.5484" y2="1942.5484"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="1942.5484" y2="1952.9484"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="1952.9484" y2="1952.9484"/><polygon fill="#181818" points="206.8,1949.7484,198.8,1952.9484,206.8,1956.1484,203.6,1952.9484" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="280" x="203.6" y="1938.6633">比较当前本地地图ID与本地多地图列表（判断新增还是更新）</text><path d="M164.4,1964.9484 L213.2,1964.9484 L213.2,1972.752 L205.2,1980.752 L164.4,1980.752 L164.4,1964.9484 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="101.0473" style="stroke:#000000;stroke-width:1.2000000000000002;" width="372" x="164.4" y="1964.9484"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="176.4" y="1977.6668">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="225.2" y="1976.6332">[地图已存在]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="1999.7738" y2="1999.7738"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="1999.7738" y2="2010.1738"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="2010.1738" y2="2010.1738"/><polygon fill="#181818" points="206.8,2006.9738,198.8,2010.1738,206.8,2013.3738,203.6,2010.1738" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="323.2" x="203.6" y="1995.8887">更新地图(缩略图)，如tuya_iot_map_update_files(失败重传，最大三次)</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="164.4" x2="536.4" y1="2017.3738" y2="2017.3738"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="168.4" y="2027.4586">[地图不存在]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="2049.1957" y2="2049.1957"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="2049.1957" y2="2059.5957"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="2059.5957" y2="2059.5957"/><polygon fill="#181818" points="206.8,2056.3957,198.8,2059.5957,206.8,2062.7957,203.6,2059.5957" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="322.4" x="203.6" y="2045.3105">新建地图(缩略图)，如tuya_iot_map_upload_files(失败重传，最大三次)</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="156.4" x2="596.4" y1="2072.3957" y2="2072.3957"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="160.4" y="2082.4805">[云端多地图]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="2104.2176" y2="2104.2176"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="2104.2176" y2="2114.6176"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="2114.6176" y2="2114.6176"/><polygon fill="#181818" points="206.8,2111.4176,198.8,2114.6176,206.8,2117.8176,203.6,2114.6176" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="280" x="203.6" y="2100.3324">比较当前云端地图ID与云端多地图列表（判断新增还是更新）</text><path d="M164.4,2126.6176 L213.2,2126.6176 L213.2,2134.4211 L205.2,2142.4211 L164.4,2142.4211 L164.4,2126.6176 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="101.0473" style="stroke:#000000;stroke-width:1.2000000000000002;" width="424" x="164.4" y="2126.6176"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="176.4" y="2139.3359">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="225.2" y="2138.3023">[地图已存在]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="2161.443" y2="2161.443"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="2161.443" y2="2171.843"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="2171.843" y2="2171.843"/><polygon fill="#181818" points="206.8,2168.643,198.8,2171.843,206.8,2175.043,203.6,2171.843" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="375.2" x="203.6" y="2157.5578">更新地图(地图数据、缩略图)，如tuya_iot_map_update_files(失败重传，最大三次)</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="164.4" x2="588.4" y1="2179.043" y2="2179.043"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="168.4" y="2189.1277">[地图不存在]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="2210.8648" y2="2210.8648"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="2210.8648" y2="2221.2648"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="2221.2648" y2="2221.2648"/><polygon fill="#181818" points="206.8,2218.0648,198.8,2221.2648,206.8,2224.4648,203.6,2221.2648" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="374.4" x="203.6" y="2206.9797">新建地图(地图数据、缩略图)，如tuya_iot_map_upload_files(失败重传，最大三次)</text><path d="M164.4,2244.4648 L213.2,2244.4648 L213.2,2252.2684 L205.2,2260.2684 L164.4,2260.2684 L164.4,2244.4648 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="304.2754" style="stroke:#000000;stroke-width:1.2000000000000002;" width="860" x="164.4" y="2244.4648"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="176.4" y="2257.1832">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="41.6" x="225.2" y="2256.1496">[上传失败]</text><polygon fill="#181818" points="574.8,2276.0902,582.8,2279.2902,574.8,2282.4902,578,2279.2902" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="2279.2902" y2="2279.2902"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="203.6" y="2275.4051">删除地图</text><polygon fill="#181818" points="906,2301.4938,914,2304.6938,906,2307.8938,909.2,2304.6938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="2304.6938" y2="2304.6938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="167.2" x="590" y="2300.8086">删除地图 /MapData/DeleteMulitiMap</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="2330.0973" y2="2330.0973"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="2330.0973" y2="2340.4973"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="2340.4973" y2="2340.4973"/><polygon fill="#181818" points="924.4,2337.2973,916.4,2340.4973,924.4,2343.6973,921.2,2340.4973" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="72.8" x="921.2" y="2326.2121">删除多地图列表</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="2365.9008" y2="2365.9008"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="2365.9008" y2="2376.3008"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="2376.3008" y2="2376.3008"/><polygon fill="#181818" points="924.4,2373.1008,916.4,2376.3008,924.4,2379.5008,921.2,2376.3008" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="93.6" x="921.2" y="2362.0156">删除本地多地图文件</text><polygon fill="#181818" points="593.2,2398.5043,585.2,2401.7043,593.2,2404.9043,590,2401.7043" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="2401.7043" y2="2401.7043"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="598" y="2397.8191">删除成功</text><polygon fill="#181818" points="206.8,2423.9078,198.8,2427.1078,206.8,2430.3078,203.6,2427.1078" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="2427.1078" y2="2427.1078"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="211.6" y="2423.2227">删除成功</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="164.4" x2="1024.4" y1="2434.3078" y2="2434.3078"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="41.6" x="168.4" y="2444.3926">[上传成功]</text><polygon fill="#181818" points="574.8,2462.9297,582.8,2466.1297,574.8,2469.3297,578,2466.1297" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="2466.1297" y2="2466.1297"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="203.6" y="2462.2445">更新地图信息</text><polygon fill="#181818" points="906,2488.3332,914,2491.5332,906,2494.7332,909.2,2491.5332" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="2491.5332" y2="2491.5332"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="176.8" x="590" y="2487.648">更新地图信息（cloudMapId、md5等）</text><polygon fill="#181818" points="593.2,2513.7367,585.2,2516.9367,593.2,2520.1367,590,2516.9367" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="2516.9367" y2="2516.9367"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="598" y="2513.0516">更新成功</text><polygon fill="#181818" points="206.8,2539.1402,198.8,2542.3402,206.8,2545.5402,203.6,2542.3402" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="2542.3402" y2="2542.3402"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="211.6" y="2538.4551">更新成功</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="2573.3438" y2="2573.3438"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="2573.3438" y2="2583.7438"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="2583.7438" y2="2583.7438"/><polygon fill="#181818" points="206.8,2580.5438,198.8,2583.7438,206.8,2586.9438,203.6,2583.7438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="264.8" x="203.6" y="2569.4586">清理地图文件/tmp/run/cache、清理缩略图/tmp/run/record</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="2609.1473" y2="2609.1473"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="2609.1473" y2="2619.5473"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="2619.5473" y2="2619.5473"/><polygon fill="#181818" points="206.8,2616.3473,198.8,2619.5473,206.8,2622.7473,203.6,2619.5473" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="184" x="203.6" y="2605.2621">发送DP点响应到云端（保存成功/失败）</text><polygon fill="#181818" points="65.2,2641.7508,57.2,2644.9508,65.2,2648.1508,62,2644.9508" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="60.4" x2="197.2" y1="2644.9508" y2="2644.9508"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="70" y="2641.0656">返回结果</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="1108.8" x="0" y="2674.4525"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="1108.8" y1="2674.4525" y2="2674.4525"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="1108.8" y1="2676.8525" y2="2676.8525"/><rect fill="#EEEEEE" height="20.6035" style="stroke:#000000;stroke-width:1.6000000000000003;" width="56" x="526.4" y="2664.9508"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="41.6" x="531.2" y="2680.0691">删除地图</text><polygon fill="#FF0000" points="188.4,2709.3578,196.4,2712.5578,188.4,2715.7578,191.6,2712.5578" style="stroke:#FF0000;stroke-width:0.8000000000000002;"/><line style="stroke:#FF0000;stroke-width:0.8000000000000002;" x1="56.4" x2="193.2" y1="2712.5578" y2="2712.5578"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="100.8" x="62" y="2708.6727">删除地图(cloudMapId)</text><polygon fill="#181818" points="574.8,2734.7613,582.8,2737.9613,574.8,2741.1613,578,2737.9613" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="2737.9613" y2="2737.9613"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="203.6" y="2734.0762">获取地图列表</text><polygon fill="#181818" points="906,2760.1648,914,2763.3648,906,2766.5648,909.2,2763.3648" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="2763.3648" y2="2763.3648"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="196.8" x="590" y="2759.4797">获取地图列表 /MapData/LocalMultiMapInfo</text><polygon fill="#181818" points="593.2,2785.5684,585.2,2788.7684,593.2,2791.9684,590,2788.7684" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="2788.7684" y2="2788.7684"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="212.8" x="598" y="2784.8832">mapId、bkmapPath(本地多地图)、cloudMapId</text><polygon fill="#181818" points="206.8,2810.9719,198.8,2814.1719,206.8,2817.3719,203.6,2814.1719" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="2814.1719" y2="2814.1719"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="212.8" x="211.6" y="2810.2867">mapId、bkmapPath(本地多地图)、cloudMapId</text><path d="M164.4,2826.1719 L213.2,2826.1719 L213.2,2833.9754 L205.2,2841.9754 L164.4,2841.9754 L164.4,2826.1719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="375.8824" style="stroke:#000000;stroke-width:1.2000000000000002;" width="860" x="164.4" y="2826.1719"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="176.4" y="2838.8902">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="225.2" y="2837.8566">[云端多地图]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="2860.9973" y2="2860.9973"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="2860.9973" y2="2871.3973"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="2871.3973" y2="2871.3973"/><polygon fill="#181818" points="206.8,2868.1973,198.8,2871.3973,206.8,2874.5973,203.6,2871.3973" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="158.4" x="203.6" y="2857.1121">删除地图，如tuya_iot_map_delete</text><polygon fill="#181818" points="574.8,2893.6008,582.8,2896.8008,574.8,2900.0008,578,2896.8008" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="2896.8008" y2="2896.8008"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="68.8" x="203.6" y="2892.9156">删除地图(云端)</text><polygon fill="#181818" points="906,2919.0043,914,2922.2043,906,2925.4043,909.2,2922.2043" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="2922.2043" y2="2922.2043"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="167.2" x="590" y="2918.3191">删除地图 /MapData/DeleteMulitiMap</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="2947.6078" y2="2947.6078"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="2947.6078" y2="2958.0078"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="2958.0078" y2="2958.0078"/><polygon fill="#181818" points="924.4,2954.8078,916.4,2958.0078,924.4,2961.2078,921.2,2958.0078" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="72.8" x="921.2" y="2943.7227">删除多地图列表</text><polygon fill="#181818" points="593.2,2980.2113,585.2,2983.4113,593.2,2986.6113,590,2983.4113" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="2983.4113" y2="2983.4113"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="598" y="2979.5262">删除成功</text><polygon fill="#181818" points="206.8,3005.6148,198.8,3008.8148,206.8,3012.0148,203.6,3008.8148" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="3008.8148" y2="3008.8148"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="211.6" y="3004.9297">删除成功</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="164.4" x2="1024.4" y1="3016.0148" y2="3016.0148"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="168.4" y="3026.0996">[本地多地图]</text><polygon fill="#181818" points="574.8,3044.6367,582.8,3047.8367,574.8,3051.0367,578,3047.8367" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="3047.8367" y2="3047.8367"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="68.8" x="203.6" y="3043.9516">删除地图(本地)</text><polygon fill="#181818" points="906,3070.0402,914,3073.2402,906,3076.4402,909.2,3073.2402" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="3073.2402" y2="3073.2402"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="167.2" x="590" y="3069.3551">删除地图 /MapData/DeleteMulitiMap</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="3098.6438" y2="3098.6438"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="3098.6438" y2="3109.0438"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="3109.0438" y2="3109.0438"/><polygon fill="#181818" points="924.4,3105.8438,916.4,3109.0438,924.4,3112.2438,921.2,3109.0438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="72.8" x="921.2" y="3094.7586">删除多地图列表</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="3134.4473" y2="3134.4473"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="3134.4473" y2="3144.8473"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="3144.8473" y2="3144.8473"/><polygon fill="#181818" points="924.4,3141.6473,916.4,3144.8473,924.4,3148.0473,921.2,3144.8473" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="93.6" x="921.2" y="3130.5621">删除本地多地图文件</text><polygon fill="#181818" points="593.2,3167.0508,585.2,3170.2508,593.2,3173.4508,590,3170.2508" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="3170.2508" y2="3170.2508"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="598" y="3166.3656">删除成功</text><polygon fill="#181818" points="206.8,3192.4543,198.8,3195.6543,206.8,3198.8543,203.6,3195.6543" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="3195.6543" y2="3195.6543"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="211.6" y="3191.7691">删除成功</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="3226.6578" y2="3226.6578"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="3226.6578" y2="3237.0578"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="3237.0578" y2="3237.0578"/><polygon fill="#181818" points="206.8,3233.8578,198.8,3237.0578,206.8,3240.2578,203.6,3237.0578" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="184" x="203.6" y="3222.7727">发送DP点响应到云端（删除成功/失败）</text><polygon fill="#181818" points="65.2,3259.2613,57.2,3262.4613,65.2,3265.6613,62,3262.4613" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="60.4" x2="197.2" y1="3262.4613" y2="3262.4613"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="70" y="3258.5762">返回结果</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="1108.8" x="0" y="3286.3631"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="1108.8" y1="3286.3631" y2="3286.3631"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="1108.8" y1="3288.7631" y2="3288.7631"/><rect fill="#EEEEEE" height="20.6035" style="stroke:#000000;stroke-width:1.6000000000000003;" width="56" x="526.4" y="3276.8613"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="41.6" x="531.2" y="3291.9797">应用地图</text><polygon fill="#FF0000" points="188.4,3321.2684,196.4,3324.4684,188.4,3327.6684,191.6,3324.4684" style="stroke:#FF0000;stroke-width:0.8000000000000002;"/><line style="stroke:#FF0000;stroke-width:0.8000000000000002;" x1="56.4" x2="193.2" y1="3324.4684" y2="3324.4684"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="122.4" x="62" y="3320.5832">切换地图(cloudMapId、url)</text><path d="M164.4,3336.4684 L213.2,3336.4684 L213.2,3344.2719 L205.2,3352.2719 L164.4,3352.2719 L164.4,3336.4684 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="513.3" style="stroke:#000000;stroke-width:1.2000000000000002;" width="828.8" x="164.4" y="3336.4684"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="176.4" y="3349.1867">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="225.2" y="3348.1531">[云端多地图]</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="3371.2938" y2="3371.2938"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="3371.2938" y2="3381.6938"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="3381.6938" y2="3381.6938"/><polygon fill="#181818" points="206.8,3378.4938,198.8,3381.6938,206.8,3384.8938,203.6,3381.6938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="158.4" x="203.6" y="3367.4086">下载地图-与保存的地图的md5校验</text><polygon fill="#181818" points="574.8,3403.8973,582.8,3407.0973,574.8,3410.2973,578,3407.0973" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="3407.0973" y2="3407.0973"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="68.8" x="203.6" y="3403.2121">应用地图(云端)</text><polygon fill="#181818" points="906,3429.3008,914,3432.5008,906,3435.7008,909.2,3432.5008" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="3432.5008" y2="3432.5008"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="152.8" x="590" y="3428.6156">应用地图(云端) TODO接口待提供</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="3457.9043" y2="3457.9043"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="3457.9043" y2="3468.3043"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="3468.3043" y2="3468.3043"/><polygon fill="#181818" points="924.4,3465.1043,916.4,3468.3043,924.4,3471.5043,921.2,3468.3043" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="921.2" y="3454.0191">下载地图数据</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="3493.7078" y2="3493.7078"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="3493.7078" y2="3504.1078"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="3504.1078" y2="3504.1078"/><polygon fill="#181818" points="924.4,3500.9078,916.4,3504.1078,924.4,3507.3078,921.2,3504.1078" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="921.2" y="3489.8227">应用地图</text><polygon fill="#181818" points="593.2,3526.3113,585.2,3529.5113,593.2,3532.7113,590,3529.5113" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="3529.5113" y2="3529.5113"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="598" y="3525.6262">应用地图成功</text><polygon fill="#181818" points="206.8,3551.7148,198.8,3554.9148,206.8,3558.1148,203.6,3554.9148" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="3554.9148" y2="3554.9148"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="211.6" y="3551.0297">应用地图成功</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="3580.3184" y2="3580.3184"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="3580.3184" y2="3590.7184"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="3590.7184" y2="3590.7184"/><polygon fill="#181818" points="206.8,3587.5184,198.8,3590.7184,206.8,3593.9184,203.6,3590.7184" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="203.6" y="3576.4332">清理临时文件</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="164.4" x2="993.2" y1="3597.9184" y2="3597.9184"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="50.4" x="168.4" y="3608.0031">[本地多地图]</text><polygon fill="#181818" points="574.8,3626.5402,582.8,3629.7402,574.8,3632.9402,578,3629.7402" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="3629.7402" y2="3629.7402"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="203.6" y="3625.8551">获取地图列表</text><polygon fill="#181818" points="906,3651.9438,914,3655.1438,906,3658.3438,909.2,3655.1438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="3655.1438" y2="3655.1438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="196.8" x="590" y="3651.2586">获取地图列表 /MapData/LocalMultiMapInfo</text><polygon fill="#181818" points="593.2,3677.3473,585.2,3680.5473,593.2,3683.7473,590,3680.5473" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="3680.5473" y2="3680.5473"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="154.4" x="598" y="3676.6621">mapId、bkmapPath、cloudMapId</text><polygon fill="#181818" points="206.8,3702.7508,198.8,3705.9508,206.8,3709.1508,203.6,3705.9508" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="3705.9508" y2="3705.9508"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="154.4" x="211.6" y="3702.0656">mapId、bkmapPath、cloudMapId</text><polygon fill="#181818" points="574.8,3728.1543,582.8,3731.3543,574.8,3734.5543,578,3731.3543" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="3731.3543" y2="3731.3543"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="68.8" x="203.6" y="3727.4691">应用地图(本地)</text><polygon fill="#181818" points="906,3753.5578,914,3756.7578,906,3759.9578,909.2,3756.7578" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="3756.7578" y2="3756.7578"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="68.8" x="590" y="3752.8727">应用地图(本地)</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="915.6" x2="949.2" y1="3782.1613" y2="3782.1613"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="949.2" x2="949.2" y1="3782.1613" y2="3792.5613"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="916.4" x2="949.2" y1="3792.5613" y2="3792.5613"/><polygon fill="#181818" points="924.4,3789.3613,916.4,3792.5613,924.4,3795.7613,921.2,3792.5613" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="921.2" y="3778.2762">应用地图</text><polygon fill="#181818" points="593.2,3814.7648,585.2,3817.9648,593.2,3821.1648,590,3817.9648" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="3817.9648" y2="3817.9648"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="598" y="3814.0797">应用地图成功</text><polygon fill="#181818" points="206.8,3840.1684,198.8,3843.3684,206.8,3846.5684,203.6,3843.3684" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="3843.3684" y2="3843.3684"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="211.6" y="3839.4832">应用地图成功</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="3874.3719" y2="3874.3719"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="3874.3719" y2="3884.7719"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="3884.7719" y2="3884.7719"/><polygon fill="#181818" points="206.8,3881.5719,198.8,3884.7719,206.8,3887.9719,203.6,3884.7719" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="184" x="203.6" y="3870.4867">发送DP点响应到云端（应用地图/失败）</text><polygon fill="#181818" points="65.2,3906.9754,57.2,3910.1754,65.2,3913.3754,62,3910.1754" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="60.4" x2="197.2" y1="3910.1754" y2="3910.1754"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="70" y="3906.2902">返回结果</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="1108.8" x="0" y="3934.0771"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="1108.8" y1="3934.0771" y2="3934.0771"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="1108.8" y1="3936.4771" y2="3936.4771"/><rect fill="#EEEEEE" height="20.6035" style="stroke:#000000;stroke-width:1.6000000000000003;" width="76.8" x="516" y="3924.5754"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="62.4" x="520.8" y="3939.6938">重置当前地图</text><polygon fill="#FF0000" points="188.4,3968.9824,196.4,3972.1824,188.4,3975.3824,191.6,3972.1824" style="stroke:#FF0000;stroke-width:0.8000000000000002;"/><line style="stroke:#FF0000;stroke-width:0.8000000000000002;" x1="56.4" x2="193.2" y1="3972.1824" y2="3972.1824"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="62" y="3968.2973">重置地图</text><polygon fill="#181818" points="574.8,3994.3859,582.8,3997.5859,574.8,4000.7859,578,3997.5859" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="198" x2="579.6" y1="3997.5859" y2="3997.5859"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="203.6" y="3993.7008">重置地图</text><polygon fill="#181818" points="906,4019.7895,914,4022.9895,906,4026.1895,909.2,4022.9895" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="584.4" x2="910.8" y1="4022.9895" y2="4022.9895"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="163.2" x="590" y="4019.1043">重置当前地图 /MapData/DeleteMap</text><polygon fill="#181818" points="593.2,4045.193,585.2,4048.393,593.2,4051.593,590,4048.393" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="588.4" x2="914.8" y1="4048.393" y2="4048.393"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="598" y="4044.5078">重置成功</text><polygon fill="#181818" points="206.8,4070.5965,198.8,4073.7965,206.8,4076.9965,203.6,4073.7965" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="202" x2="583.6" y1="4073.7965" y2="4073.7965"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="211.6" y="4069.9113">重置成功</text><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198" x2="231.6" y1="4099.2" y2="4099.2"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="231.6" x2="231.6" y1="4099.2" y2="4109.6"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="198.8" x2="231.6" y1="4109.6" y2="4109.6"/><polygon fill="#181818" points="206.8,4106.4,198.8,4109.6,206.8,4112.8,203.6,4109.6" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="72.8" x="203.6" y="4095.3148">上报地图到云端</text><polygon fill="#181818" points="65.2,4131.8035,57.2,4135.0035,65.2,4138.2035,62,4135.0035" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="60.4" x2="197.2" y1="4135.0035" y2="4135.0035"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="70" y="4131.1184">返回结果</text><!--MD5=[30189557b5de20eb3cb8048e7ccee18d]
@startuml
participant APP
participant Network
participant IOT_SDK
participant APOS_SDK
'participant SHM
'participant AppSweeper
participant MapManager


'地图：当前地图、本地多地图、云端多地图

'APP -> Network: 开始清扫
'Network - -> AppSweeper: 开始清扫
'group 实时地图
'    MapManager -> SHM: 更新当前地图
'    loop 3s
'        Network -> SHM: 获取
'        SHM - -> Network: 获取
'        Network - -> Network: 对比是否更新
'        alt 有更新
'            Network - -> Network: 美化、裁剪、协议转换
'            Network - -> APP: 更新地图
'        end
'    end
'end
'autonumber
group 本地/云端多地图
    IOT_SDK -> APOS_SDK: 订阅区域更新事件 /MapData/SegmentSucess

    ' 保存地图
    alt 用户主动触发
        APP -[#red]> Network: 保存地图
        APP -[#red]> Network: 区域更新(如修改房间名称)
        Network -[#red]-> IOT_SDK: 保存地图
'        APP -[#red]> Network: 修改地图名称
    else 清扫完成且自动分区
        MapManager - -> APOS_SDK: 区域更新(update)
        APOS_SDK - -> IOT_SDK: 区域更新(update)
        IOT_SDK - -> Network: 区域更新(update)
        Network -[#red]-> IOT_SDK: 保存地图
    else 算法更新区域信息(/event/map_manager -> map_segment_success)
        MapManager - -> APOS_SDK: 区域更新(merge/split)
        APOS_SDK - -> IOT_SDK: 区域更新(merge/split)
        IOT_SDK - -> Network: 区域更新(merge/split)
        '判断地图存在则更新
        Network -[#red]-> IOT_SDK: 保存地图
'        alt 当前地图是否已保存（地图达到上限不保存）
'            Network -[#red]-> IOT_SDK: 保存地图
'        end
    end

    == 保存地图 ==
    Network -> IOT_SDK: 获取当前地图状态
    IOT_SDK -> APOS_SDK: 获取当前地图状态
    IOT_SDK <- - APOS_SDK: 当前地图是否可以保存
    Network <- - IOT_SDK: 当前地图是否可以保存
    alt 有地图保存限制 & 不可以保存
        Network - -> APP: 保存失败
    else 满足限制，可以保存
        Network -> IOT_SDK: 获取当前地图

        IOT_SDK -> APOS_SDK: 获取当前地图 /MapData/SegmentSlamMapDataDirect
        APOS_SDK - -> IOT_SDK: mapId等
        IOT_SDK - -> Network: mapId等
        Network -> IOT_SDK: 获取已保存地图列表
        IOT_SDK -> APOS_SDK: 获取已保存地图列表 /MapData/LocalMultiMapInfo
        APOS_SDK - -> IOT_SDK: mapId、savePath、bkmapPath、iotMapInfo(如cloudMapId、md5)等
        IOT_SDK - -> Network: mapId、savePath、bkmapPath、iotMapInfo(如cloudMapId、md5)等

        alt 云端多地图
            Network - -> Network: 获取云端地图列表，tuya_iot_get_all_maps_info(失败重传，最大三次)
            alt 云端地图超过最大数量 & 自动更新开关打开
                Network -> IOT_SDK: 删除地图
                IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
                APOS_SDK - -> APOS_SDK: 删除多地图列表
                APOS_SDK - -> APOS_SDK: 删除本地多地图文件
                APOS_SDK - -> IOT_SDK: 删除成功
                IOT_SDK - -> Network: 删除成功
                Network - -> Network: 删除云端地图，tuya_iot_map_delete(失败重传，最大三次)
            else 地图超过最大数量 & 自动更新开关关闭
                Network - -> APP: 返回结果
            end
            Network -> IOT_SDK : 保存地图(云端多地图)
            IOT_SDK -> APOS_SDK : 保存地图 /MapData/SaveMulitiMap
            APOS_SDK - -> APOS_SDK: 保存多地图信息列表
            APOS_SDK - -> IOT_SDK: 保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache
            IOT_SDK - -> Network: 保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache
            Network - -> Network: 从/tmp/run/record获取缩略图、/tmp/run/cache获取地图数据
        else 本地多地图
            alt 本地地图超过最大数量 & 自动更新开关打开
                Network -> IOT_SDK: 删除地图
                IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
                APOS_SDK - -> APOS_SDK: 删除多地图列表
                APOS_SDK - -> APOS_SDK: 删除本地多地图文件
                APOS_SDK - -> IOT_SDK: 删除成功
                IOT_SDK - -> Network: 删除成功
            else 地图超过最大数量 & 自动更新开关关闭
                Network - -> APP: 返回结果
            end
            Network -> IOT_SDK : 保存地图(本地多地图)
            IOT_SDK -> APOS_SDK : 保存地图 /MapData/SaveMulitiMap
            APOS_SDK - -> APOS_SDK: 保存多地图信息列表
            APOS_SDK - -> APOS_SDK: 保存地图数据文件到Flash
            APOS_SDK - -> IOT_SDK: 保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache
            IOT_SDK - -> Network: 保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache
            Network - -> Network: 从/tmp/run/record获取缩略图、从/userdata/store/maps/获取地图数据
        end

        Network - -> Network: 打包地图数据：地图裁剪、协议转换（地图、机器人坐标、充电桩坐标）、压缩
    '    Network -> IOT_SDK: 获取全量共享内存区域信息(定制信息、区域、禁区)
    '    IOT_SDK -> APOS_SDK: 获取全量共享内存区域信息 /Areas/AreaJson
        '开关、读、写
        '待讨论
    '    Network - -> Network: 打包分区区域信息
    '    Network -> IOT_SDK: 获取禁区区域信息
    '    IOT_SDK -> APOS_SDK: 获取禁区区域信息 /Areas/ForbidAreaInfo
        Network - -> Network: 打包区域信息
        Network - -> Network: 比较当前地图与多地图列表(本地、云端)（判断新增还是更新）
'        alt 地图已存在
        alt 本地多地图
            Network - -> Network: 比较当前本地地图ID与本地多地图列表（判断新增还是更新）
            alt 地图已存在
                Network - -> Network: 更新地图(缩略图)，如tuya_iot_map_update_files(失败重传，最大三次)
            else 地图不存在
                Network - -> Network: 新建地图(缩略图)，如tuya_iot_map_upload_files(失败重传，最大三次)
            end
        else 云端多地图
            Network - -> Network: 比较当前云端地图ID与云端多地图列表（判断新增还是更新）
            alt 地图已存在
                Network - -> Network: 更新地图(地图数据、缩略图)，如tuya_iot_map_update_files(失败重传，最大三次)
            else 地图不存在
                Network - -> Network: 新建地图(地图数据、缩略图)，如tuya_iot_map_upload_files(失败重传，最大三次)
            end
        end
        alt 上传失败
            Network -> IOT_SDK: 删除地图
            IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
            APOS_SDK - -> APOS_SDK: 删除多地图列表
            APOS_SDK - -> APOS_SDK: 删除本地多地图文件
            APOS_SDK - -> IOT_SDK: 删除成功
            IOT_SDK - -> Network: 删除成功
        else 上传成功
            '{
                '    "mapId": 123,
                '    "iot_cloud_map_info" : "{\"k\":\"v\",\"k1\":123}"
                '
            ' }
            Network -> IOT_SDK: 更新地图信息
            IOT_SDK -> APOS_SDK: 更新地图信息（cloudMapId、md5等）
            APOS_SDK - -> IOT_SDK: 更新成功
            IOT_SDK - -> Network: 更新成功
        end
'
'        alt 云端多地图
'            Network - -> Network: 清理本地地图文件(bkmapPath)
'        end
        Network - -> Network: 清理地图文件/tmp/run/cache、清理缩略图/tmp/run/record
        Network - -> Network: 发送DP点响应到云端（保存成功/失败）
        Network - -> APP: 返回结果
    end

    == 删除地图 ==
    ' 删除地图
    APP -[#red]> Network: 删除地图(cloudMapId)
    Network -> IOT_SDK: 获取地图列表
    IOT_SDK -> APOS_SDK: 获取地图列表 /MapData/LocalMultiMapInfo
    APOS_SDK - -> IOT_SDK: mapId、bkmapPath(本地多地图)、cloudMapId
    IOT_SDK - -> Network: mapId、bkmapPath(本地多地图)、cloudMapId

    alt 云端多地图
        Network - -> Network: 删除地图，如tuya_iot_map_delete
        Network -> IOT_SDK: 删除地图(云端)
        IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
        APOS_SDK - -> APOS_SDK: 删除多地图列表
        APOS_SDK - -> IOT_SDK: 删除成功
        IOT_SDK - -> Network: 删除成功
    else 本地多地图
        Network -> IOT_SDK: 删除地图(本地)
        IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
        APOS_SDK - -> APOS_SDK: 删除多地图列表
        APOS_SDK - -> APOS_SDK: 删除本地多地图文件
        APOS_SDK - -> IOT_SDK: 删除成功
        IOT_SDK - -> Network: 删除成功
    end

    Network - -> Network: 发送DP点响应到云端（删除成功/失败）

'    alt 需要更新地图列表（涂鸦的不需要）
'        Network-> IOT_SDK: 获取地图列表
'        IOT_SDK -> APOS_SDK: 获取地图列表 /MapData/LocalMultiMapInfo
'        APOS_SDK - -> IOT_SDK: mapId、savePath、bkmapPath、cloudMapId
'        IOT_SDK - -> Network: mapId、savePath、bkmapPath、cloudMapId
'        Network - -> Network: 更新地图列表到云端
'    end
    Network - -> APP: 返回结果
    == 应用地图 ==
    ' 应用地图
    APP -[#red]> Network: 切换地图(cloudMapId、url)
    alt 云端多地图
        Network - -> Network: 下载地图-与保存的地图的md5校验
        Network -> IOT_SDK: 应用地图(云端)
        IOT_SDK -> APOS_SDK: 应用地图(云端) TODO接口待提供
        APOS_SDK - -> APOS_SDK: 下载地图数据
        APOS_SDK - -> APOS_SDK: 应用地图
        APOS_SDK - -> IOT_SDK: 应用地图成功
        IOT_SDK - -> Network: 应用地图成功

        Network - -> Network: 清理临时文件
    else 本地多地图
        Network -> IOT_SDK: 获取地图列表
        IOT_SDK -> APOS_SDK: 获取地图列表 /MapData/LocalMultiMapInfo
        APOS_SDK - -> IOT_SDK: mapId、bkmapPath、cloudMapId
        IOT_SDK - -> Network: mapId、bkmapPath、cloudMapId
        Network -> IOT_SDK: 应用地图(本地)
        IOT_SDK -> APOS_SDK: 应用地图(本地)
        APOS_SDK - -> APOS_SDK: 应用地图
        APOS_SDK - -> IOT_SDK: 应用地图成功
        IOT_SDK - -> Network: 应用地图成功
    end
    Network - -> Network: 发送DP点响应到云端（应用地图/失败）
    Network - -> APP: 返回结果
    == 重置当前地图 ==
    '重置当前地图
    APP -[#red]> Network: 重置地图
    Network -> IOT_SDK: 重置地图
    IOT_SDK -> APOS_SDK: 重置当前地图 /MapData/DeleteMap
    APOS_SDK - -> IOT_SDK: 重置成功
    IOT_SDK - -> Network: 重置成功
    Network - -> Network: 上报地图到云端
    Network - -> APP: 返回结果
end

'
'multi_map.cpp 硬编码字段宏定义，响应封装，协议类型字段封账，208删掉


'
@enduml

@startuml
participant APP
participant Network
participant IOT_SDK
participant APOS_SDK
participant MapManager



group 本地/云端多地图
    IOT_SDK -> APOS_SDK: 订阅区域更新事件 /MapData/SegmentSucess

    alt 用户主动触发
        APP -[#red]> Network: 保存地图
        APP -[#red]> Network: 区域更新(如修改房间名称)
        Network -[#red]-> IOT_SDK: 保存地图
    else 清扫完成且自动分区
        MapManager - -> APOS_SDK: 区域更新(update)
        APOS_SDK - -> IOT_SDK: 区域更新(update)
        IOT_SDK - -> Network: 区域更新(update)
        Network -[#red]-> IOT_SDK: 保存地图
    else 算法更新区域信息(/event/map_manager -> map_segment_success)
        MapManager - -> APOS_SDK: 区域更新(merge/split)
        APOS_SDK - -> IOT_SDK: 区域更新(merge/split)
        IOT_SDK - -> Network: 区域更新(merge/split)
        Network -[#red]-> IOT_SDK: 保存地图
    end

    == 保存地图 ==
    Network -> IOT_SDK: 获取当前地图状态
    IOT_SDK -> APOS_SDK: 获取当前地图状态
    IOT_SDK <- - APOS_SDK: 当前地图是否可以保存
    Network <- - IOT_SDK: 当前地图是否可以保存
    alt 有地图保存限制 & 不可以保存
        Network - -> APP: 保存失败
    else 满足限制，可以保存
        Network -> IOT_SDK: 获取当前地图

        IOT_SDK -> APOS_SDK: 获取当前地图 /MapData/SegmentSlamMapDataDirect
        APOS_SDK - -> IOT_SDK: mapId等
        IOT_SDK - -> Network: mapId等
        Network -> IOT_SDK: 获取已保存地图列表
        IOT_SDK -> APOS_SDK: 获取已保存地图列表 /MapData/LocalMultiMapInfo
        APOS_SDK - -> IOT_SDK: mapId、savePath、bkmapPath、iotMapInfo(如cloudMapId、md5)等
        IOT_SDK - -> Network: mapId、savePath、bkmapPath、iotMapInfo(如cloudMapId、md5)等

        alt 云端多地图
            Network - -> Network: 获取云端地图列表，tuya_iot_get_all_maps_info(失败重传，最大三次)
            alt 云端地图超过最大数量 & 自动更新开关打开
                Network -> IOT_SDK: 删除地图
                IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
                APOS_SDK - -> APOS_SDK: 删除多地图列表
                APOS_SDK - -> APOS_SDK: 删除本地多地图文件
                APOS_SDK - -> IOT_SDK: 删除成功
                IOT_SDK - -> Network: 删除成功
                Network - -> Network: 删除云端地图，tuya_iot_map_delete(失败重传，最大三次)
            else 地图超过最大数量 & 自动更新开关关闭
                Network - -> APP: 返回结果
            end
            Network -> IOT_SDK : 保存地图(云端多地图)
            IOT_SDK -> APOS_SDK : 保存地图 /MapData/SaveMulitiMap
            APOS_SDK - -> APOS_SDK: 保存多地图信息列表
            APOS_SDK - -> IOT_SDK: 保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache
            IOT_SDK - -> Network: 保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache
            Network - -> Network: 从/tmp/run/record获取缩略图、/tmp/run/cache获取地图数据
        else 本地多地图
            alt 本地地图超过最大数量 & 自动更新开关打开
                Network -> IOT_SDK: 删除地图
                IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
                APOS_SDK - -> APOS_SDK: 删除多地图列表
                APOS_SDK - -> APOS_SDK: 删除本地多地图文件
                APOS_SDK - -> IOT_SDK: 删除成功
                IOT_SDK - -> Network: 删除成功
            else 地图超过最大数量 & 自动更新开关关闭
                Network - -> APP: 返回结果
            end
            Network -> IOT_SDK : 保存地图(本地多地图)
            IOT_SDK -> APOS_SDK : 保存地图 /MapData/SaveMulitiMap
            APOS_SDK - -> APOS_SDK: 保存多地图信息列表
            APOS_SDK - -> APOS_SDK: 保存地图数据文件到Flash
            APOS_SDK - -> IOT_SDK: 保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache
            IOT_SDK - -> Network: 保存成功，缩略图路径/tmp/run/record、地图路径/tmp/run/cache
            Network - -> Network: 从/tmp/run/record获取缩略图、从/userdata/store/maps/获取地图数据
        end

        Network - -> Network: 打包地图数据：地图裁剪、协议转换（地图、机器人坐标、充电桩坐标）、压缩
        Network - -> Network: 打包区域信息
        Network - -> Network: 比较当前地图与多地图列表(本地、云端)（判断新增还是更新）
        alt 本地多地图
            Network - -> Network: 比较当前本地地图ID与本地多地图列表（判断新增还是更新）
            alt 地图已存在
                Network - -> Network: 更新地图(缩略图)，如tuya_iot_map_update_files(失败重传，最大三次)
            else 地图不存在
                Network - -> Network: 新建地图(缩略图)，如tuya_iot_map_upload_files(失败重传，最大三次)
            end
        else 云端多地图
            Network - -> Network: 比较当前云端地图ID与云端多地图列表（判断新增还是更新）
            alt 地图已存在
                Network - -> Network: 更新地图(地图数据、缩略图)，如tuya_iot_map_update_files(失败重传，最大三次)
            else 地图不存在
                Network - -> Network: 新建地图(地图数据、缩略图)，如tuya_iot_map_upload_files(失败重传，最大三次)
            end
        end
        alt 上传失败
            Network -> IOT_SDK: 删除地图
            IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
            APOS_SDK - -> APOS_SDK: 删除多地图列表
            APOS_SDK - -> APOS_SDK: 删除本地多地图文件
            APOS_SDK - -> IOT_SDK: 删除成功
            IOT_SDK - -> Network: 删除成功
        else 上传成功
            Network -> IOT_SDK: 更新地图信息
            IOT_SDK -> APOS_SDK: 更新地图信息（cloudMapId、md5等）
            APOS_SDK - -> IOT_SDK: 更新成功
            IOT_SDK - -> Network: 更新成功
        end
        Network - -> Network: 清理地图文件/tmp/run/cache、清理缩略图/tmp/run/record
        Network - -> Network: 发送DP点响应到云端（保存成功/失败）
        Network - -> APP: 返回结果
    end

    == 删除地图 ==
    APP -[#red]> Network: 删除地图(cloudMapId)
    Network -> IOT_SDK: 获取地图列表
    IOT_SDK -> APOS_SDK: 获取地图列表 /MapData/LocalMultiMapInfo
    APOS_SDK - -> IOT_SDK: mapId、bkmapPath(本地多地图)、cloudMapId
    IOT_SDK - -> Network: mapId、bkmapPath(本地多地图)、cloudMapId

    alt 云端多地图
        Network - -> Network: 删除地图，如tuya_iot_map_delete
        Network -> IOT_SDK: 删除地图(云端)
        IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
        APOS_SDK - -> APOS_SDK: 删除多地图列表
        APOS_SDK - -> IOT_SDK: 删除成功
        IOT_SDK - -> Network: 删除成功
    else 本地多地图
        Network -> IOT_SDK: 删除地图(本地)
        IOT_SDK -> APOS_SDK: 删除地图 /MapData/DeleteMulitiMap
        APOS_SDK - -> APOS_SDK: 删除多地图列表
        APOS_SDK - -> APOS_SDK: 删除本地多地图文件
        APOS_SDK - -> IOT_SDK: 删除成功
        IOT_SDK - -> Network: 删除成功
    end

    Network - -> Network: 发送DP点响应到云端（删除成功/失败）

    Network - -> APP: 返回结果
    == 应用地图 ==
    APP -[#red]> Network: 切换地图(cloudMapId、url)
    alt 云端多地图
        Network - -> Network: 下载地图-与保存的地图的md5校验
        Network -> IOT_SDK: 应用地图(云端)
        IOT_SDK -> APOS_SDK: 应用地图(云端) TODO接口待提供
        APOS_SDK - -> APOS_SDK: 下载地图数据
        APOS_SDK - -> APOS_SDK: 应用地图
        APOS_SDK - -> IOT_SDK: 应用地图成功
        IOT_SDK - -> Network: 应用地图成功

        Network - -> Network: 清理临时文件
    else 本地多地图
        Network -> IOT_SDK: 获取地图列表
        IOT_SDK -> APOS_SDK: 获取地图列表 /MapData/LocalMultiMapInfo
        APOS_SDK - -> IOT_SDK: mapId、bkmapPath、cloudMapId
        IOT_SDK - -> Network: mapId、bkmapPath、cloudMapId
        Network -> IOT_SDK: 应用地图(本地)
        IOT_SDK -> APOS_SDK: 应用地图(本地)
        APOS_SDK - -> APOS_SDK: 应用地图
        APOS_SDK - -> IOT_SDK: 应用地图成功
        IOT_SDK - -> Network: 应用地图成功
    end
    Network - -> Network: 发送DP点响应到云端（应用地图/失败）
    Network - -> APP: 返回结果
    == 重置当前地图 ==
    APP -[#red]> Network: 重置地图
    Network -> IOT_SDK: 重置地图
    IOT_SDK -> APOS_SDK: 重置当前地图 /MapData/DeleteMap
    APOS_SDK - -> IOT_SDK: 重置成功
    IOT_SDK - -> Network: 重置成功
    Network - -> Network: 上报地图到云端
    Network - -> APP: 返回结果
end



@enduml

PlantUML version 1.2022.5(Sat Apr 30 18:55:52 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>